<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel = "stylesheet" href = "style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Poppins:wght@200&display=swap" rel="stylesheet">
</head>
<body>
    <body>
        <div class = "navbar">
            <img src = "assets/logo.jpg">
            <div class = "menu-toggle">
                <input type = "checkbox" id = "checkbox">
                <div class = "menu-stick"></div>
                <div class = "menu-stick"></div>
                <div class = "menu-stick"></div>
            </div>
            <div class = "navbar-content">
                <ul>
                    <li>Home</li>
                    <li>Creators</li>
                    <li>Confession</li>
                </ul>
            </div>
        </div>
        <center><h1 class = "login-text">Login</h1></center>
        <form action = "" method = "post">
            <div>
                <label for = "name">Name</label>
                <input type = "text" name = "name">
            </div>
            <div>
                <labe for = "password">Password</labe>
                <input type = "password" name = "password" id = "password">
                <div class = "password-toggle">
                    <input type = "checkbox" onclick = "showPassword()">
                    <img src = "assets/hide.png" class = "pwd-icon">
                </div>
            </div>
            <input type="submit" value = "Log in">
        </form>

        <p style = "width : fit-content; margin : auto;">or sign up with</p>
        <center><div class = "other-options">
            <div>
                <img onclick="signin()"  src = "assets/goggle_logo.png">
                <p>Google</p>
            </div>
            <div>
                <img src = "assets/twitter_logo.png">
                <p>Twitter</p>
            </div>
        </div></center>
</body>
<script>
    let toggle = document.querySelector("#checkbox")
    let navContent = document.querySelector(".navbar-content")
    toggle.addEventListener("click", (e)=>{
        console.log(toggle.checked)
        if(toggle.checked)
        {
            navContent.style.transform = "translateX(0%)"
        }else
        {
            navContent.style.transform = "translateX(100%)";
        }

    })

    function showPassword()
    {
        let icon = document.querySelector(".pwd-icon");
        let pwd = document.querySelector("#password");
        pwd.type = pwd.type == "text" ? "password" : "text";
        icon.src = pwd.type == "text" ? "assets/view.png" : "assets/hide.png";
    }

    document.addEventListener("submit", (e)=>{
        console.log("here");
        e.preventDefault();
        document.location.href = "main.html"
    })


    function signin(){
    let oauth = "https://accounts.google.com/o/oauth2/v2/auth";

    let form = document.createElement('form')
    form.setAttribute('mehtod','get')
    form.setAttribute('action',oauth)


    let params = {
        "client_id":"599841151752-cgjoo2g0i6sqmam3sbleetdpj1se3v6u.apps.googleusercontent.com",
        "redirect_uri":"https://openbox007.netlify.app/main.html",
        "response_type":"token",
        "scope":"https://www.googleapis.com/auth/userinfo.profile",
        "include_granted_scopes":'true',
        'state':'pass-through-value'
    }

    for(var p in params){
        let input = document.createElement('input')
        input.setAttribute('type','hidden')
        input.setAttribute('name',p)
        input.setAttribute('value',params[p])
        form.appendChild(input)
    }
    document.body.appendChild(form)
    form.submit()
}
</script>
</html>
